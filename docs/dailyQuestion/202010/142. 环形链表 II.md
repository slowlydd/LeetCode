# [142. 环形链表 II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)
## 解法一 hash set

这种解法是最容易想到的，直接遍历链表，将每一个节点存入 hash set 中，当遍历第 i 个元素的时候判断该元素是否在 hash set 中，如果存在，则将该节点返回。要吐槽的是返回值的问题，题目给出的是`no cycle`，结果却是要返回`null`.

```js
// 时间复杂度：O(N)
// 空间复杂度：O(N)
var detectCycle = function(head) {
  if(!head) return null
  let s = new Set()
  let pre = null
  s.add(p, null)
  do {
    pre = p
    p = p.next
    let temp = s.has(p)
    if(temp) {
      return p
    } else {
      s.add(p)
    }
  } while(p);
  return null
}
```

## 解法二 双指针
双指针的话首先需要利用快慢指针来判断是否有环，如果没有环，直接返回就好。如果存在环，这里需要简单做一个数学公式的推倒。使用快慢指针的话快指针的速度是慢指针的速度的两倍，在一个有环的链表内，快指针总会在转了 n 圈以后追上 满指针，因此。

```js
// 时间复杂度：O(N)
// 空间复杂度：O(1)
var detectCycle = function(head) {
    if(!head) return null
    let slow = head, fast = head, pre = head
    // 快慢指针判断是否有环
    do {
      slow = slow.next
      if(fast && fast.next) {
        fast = fast.next.next
      } else {
        return null
      }
    } while(slow !== fast);
    while(pre !== slow) {
      pre = pre.next
      slow = slow.next
    }
    return slow    
};
```